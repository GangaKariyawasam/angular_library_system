<div class="mainDiv"style="background-color: #d23f31">
    <div class="row">
        <div class="col-12 d-flex justify-content-end">
            <button class="btn btn-dialog-close d-flex justify-content-center align-items-center" mat-stroked-button (click)="onFormClose()" tabindex="-1"><mat-icon>clear</mat-icon></button>
        </div>
    </div>
    <div class="row">
        <div class="col-12">
            <div class="row">
                <div class="col-12 d-flex justify-content-center">
                    <h4>Book Registration</h4>
                </div>
            </div>
            <div class="col-12">
                <mat-card class="box form-card">
                    <form [formGroup]="bookRegistrationService.form" class="example-form" style="font-size: 12px;" (ngSubmit)="submitForm()">
                        <mat-card-content>
                            <div class="row">
                                <div class="col-12">
                                    <div class="row">
                                        <div class="col-12 col-md-3">
                                            <div class="profilePhoto img-fluid">
                                                <div class="mask">
                                                    <div class="delete" (click)="deleteProfileImage()">
                                                    </div>
                                                </div>
                                                <div class="edit" (click)="editProfilePhoto()">
                                                    <span class=""><mat-icon matSuffix>mode_edit</mat-icon></span>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-12 col-md-9 d-flex align-items-end">
                                            <div class="row">
                                                <div class="col-12">
                                                    <!--Start Book Id fields here-->
                                                    <div class="row">
                                                        <div class="col-12">
                                                            <mat-form-field [style.width.%]=100>
                                                                <mat-label>Book Id</mat-label>
                                                                <input matInput formControlName="bookId"required>
                                                                <mat-error *ngIf="bookRegistrationService.bookRegisterFormControl.bookId.invalid">
                                                                    {{bookRegistrationService.bookRegisterFormControl.bookId.hasError('required')?'Book Id is required':''}}
                                                                </mat-error>
                                                            </mat-form-field>
                                                        </div>
                                                    </div>
                                                </div>
                                                <!--End Book Id fields here-->
                                                <!--Guardian Name field start here-->
                                                <div class="row">
                                                    <div class="col-12">
                                                        <mat-form-field [style.width.%]=100>
                                                            <mat-label>sinhala Name</mat-label>
                                                            <input matInput formControlName="sinhalaName"required>
                                                            <mat-error *ngIf="bookRegistrationService.bookRegisterFormControl.sinhalaName.invalid">
                                                                {{bookRegistrationService.bookRegisterFormControl.sinhalaName.hasError('required')?'Sinhala Name is required':''}}
                                                            </mat-error>
                                                        </mat-form-field>
                                                    </div>
                                                    <div class="col-12">
                                                        <mat-form-field [style.width.%]=100>
                                                            <mat-label>English Name </mat-label>
                                                            <input matInput formControlName="englishName"required>
                                                            <mat-error *ngIf="bookRegistrationService.bookRegisterFormControl.englishName.invalid">
                                                                {{bookRegistrationService.bookRegisterFormControl.englishName.hasError('required')?'English Name is required':''}}
                                                            </mat-error>
                                                        </mat-form-field>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-12 col-md-6">
                                    <mat-form-field [style.width.%]=100>
                                        <mat-label> Year </mat-label>
                                        <input matInput placeholder="ex.2010" formControlName="year">
                                        <mat-error *ngIf="bookRegistrationService.bookRegisterFormControl.year.invalid">
                                            {{bookRegistrationService.bookRegisterFormControl.year.hasError('required') ? 'Year is required'
                                            :bookRegistrationService.bookRegisterFormControl.year.hasError('pattern')?'Year can not contain any special characters':''}}
                                        </mat-error>
                                    </mat-form-field>
                                </div>

                                <div class="col-12 col-md-6">
                                    <mat-form-field [style.width.%]=100>
                                        <mat-label> Price</mat-label>
                                        <input matInput placeholder="ex.100" formControlName="price">
                                        <mat-error *ngIf="bookRegistrationService.bookRegisterFormControl.price.invalid">
                                            {{bookRegistrationService.bookRegisterFormControl.price.hasError('pattern')
                                            ? 'price can not contain any special characters':''}}
                                        </mat-error>
                                    </mat-form-field>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col-12 col-md-6">
                                    <mat-form-field [style.width.%]=100>
                                        <mat-label> pages </mat-label>
                                        <input matInput formControlName="pages"required>
                                        <mat-error *ngIf="bookRegistrationService.bookRegisterFormControl.pages.invalid">
                                            {{bookRegistrationService.bookRegisterFormControl.pages.hasError('pattern')
                                            ?'pages can not contain any special characters':''}}
                                        </mat-error>
                                    </mat-form-field>
                                </div>

                                <div class="col-12 col-md-6">
                                    <mat-form-field [style.width.%]=100>
                                        <mat-label>Medium</mat-label>
                                        <input matInput formControlName="medium">
                                        <mat-error *ngIf="bookRegistrationService.bookRegisterFormControl.medium.invalid">
                                            {{bookRegistrationService.bookRegisterFormControl.medium.hasError('required')?'medium is required':''}}
                                        </mat-error>
                                    </mat-form-field>
                                </div>
                            </div>

                            <div class="row">
                                <!--Radio button field start here-->
                                <div class="col-12 d-flex align-items-center">
                                    <mat-form-field [style.width.%]=100>
                                        <mat-label>Note</mat-label>
                                        <textarea matInput formControlName="note"></textarea>
                                    </mat-form-field>
                                </div>
                                <!--Radio button field end here-->
                            </div>

                            <div class="row">
                                <div class="col-12 col-md-8">
                                    <ng-multiselect-dropdown
                                            formControlName="author"
                                            [placeholder]="'Select the Author'"
                                            [settings]="dropdownSettings"
                                            [data]="dropdownList"
                                            [(ngModel)]="selectedItems"
                                            (onSelect)="onItemSelect($event)"
                                            (onSelectAll)="onSelectAll($event)"
                                    ></ng-multiselect-dropdown>
                                    <mat-error *ngIf="bookRegistrationService.bookRegisterFormControl.author.invalid">
                                        {{bookRegistrationService.bookRegisterFormControl.author.hasError('required')?'Author is required':''}}
                                    </mat-error>
                                </div>
                                <div class="col-12 col-md-2">
<!--                                    <button mat-raised-button (click)="openBottomSheet()">Add Author</button>-->
                                </div>
                            </div>
                        </mat-card-content>
                        <div class="row">
                            <div class="col-12 d-flex justify-content-center">
                                <button mat-stroked-button class="btn-block btn-register button" [style.width.%]=50>Register</button>
                            </div>
                        </div>
                    </form>
                </mat-card>
            </div>
        </div>
    </div>
</div>

