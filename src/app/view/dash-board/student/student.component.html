<div class="content-wrapper row table-container position-relative">
    <div [ngClass]="buttonCount==1 ? 'overlay': ''"></div>
    <div class="col-12 mb-4">
        <div class="mat-elevation-z8">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-12">
                        <div class="row mt-4">
                            <div class="col-12">
                                <h3>All Students data</h3>
                            </div>
                        </div>
                        <div class="row" style="font-size:14px">
                            <div class="col-4">
                                <mat-form-field appearance="fill"[style.width.%]=60>
                                    <input matInput (keyup)="applyFilterByRegisterNumber($event)" placeholder="Search by Registration Number" #input>
                                </mat-form-field>
                            </div>
                            <div class="col-4">
                                <mat-form-field appearance="fill"[style.width.%]=60>
                                    <input matInput (keyup)="applyFilterByStudentName($event)" placeholder="Search by Name" #input>
                                </mat-form-field>
                            </div>
                            <div class="col-4">
                                <button mat-raised-button class="float-right" color="primary"(click)="openRegisterForm()">New Student</button>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-12">
                                <table class="studentTable" mat-table [dataSource]="dataSource" matSort>

                                    <div class="row">
                                        <div class="col-12">
                                            <!-- Registration Column -->
                                            <ng-container matColumnDef="RegNo">
                                                <th mat-header-cell *matHeaderCellDef>Reg No</th>
                                                <td mat-cell *matCellDef="let element"> {{element.registrationNo}} </td>
                                            </ng-container>

                                            <!-- photo Column -->
                                            <ng-container matColumnDef="Image">
                                                <th mat-header-cell *matHeaderCellDef>Image</th>
                                                <td mat-cell *matCellDef="let element">
                                                    <img class="studentImage img-fluid" src="{{element.image}}" alt="">
                                                </td>
                                            </ng-container>

                                            <!-- Name Column -->
                                            <ng-container matColumnDef="Name">
                                                <th mat-header-cell *matHeaderCellDef>Name</th>
                                                <td mat-cell *matCellDef="let element"> {{element.initial}} {{element.fname}} {{element.lname}} </td>
                                            </ng-container>

                                            <!-- Gender Column -->
                                            <ng-container matColumnDef="Gender">
                                                <th mat-header-cell *matHeaderCellDef>Gender</th>
                                                <td mat-cell *matCellDef="let element"> {{element.gender}} </td>
                                            </ng-container>

                                            <!-- Class Column -->
                                            <ng-container matColumnDef="Grade">
                                                <th mat-header-cell *matHeaderCellDef>Grade</th>
                                                <td mat-cell *matCellDef="let element"> {{element.grade}} {{element.section}} {{element.year}}</td>
                                            </ng-container>

                                            <!-- Address Column -->
                                            <ng-container matColumnDef="Address">
                                                <th mat-header-cell *matHeaderCellDef>Address</th>
                                                <td mat-cell *matCellDef="let element"> {{element.streetNo}} {{element.firstStreet}},{{element.secondStreet}},{{element.town}}</td>
                                            </ng-container>

                                            <!-- Contact Column -->
                                            <ng-container matColumnDef="Contact">
                                                <th mat-header-cell *matHeaderCellDef>Contact</th>
                                                <td mat-cell *matCellDef="let element"> {{element.contact}} </td>
                                            </ng-container>

                                            <ng-container matColumnDef="Edit">
                                                <th mat-header-cell *matHeaderCellDef></th>
                                                <td mat-cell *matCellDef="let element">
                                                    <button mat-icon-button><mat-icon>launch</mat-icon></button>
                                                </td>
                                            </ng-container>

                                        </div>
                                    </div>

                                    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                                    <tr [ngClass]="{'selected': selectedRow>0 && row.registrationNo==selectedRow}" mat-row *matRowDef="let row; columns: displayedColumns;" (click)="getSelectedStudent(row)"></tr>

                                </table>
                                <div class="row">
                                    <div class="col-12">
                                        <mat-paginator [pageSize]="10" [pageSizeOptions]="[8, 10, 15]" [length]="studentCount" (page)="changePage($event)" showFirstLastButtons></mat-paginator>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-12">
                                        <div class="fab-container">
                                            <div (click)="floatingIconClick()" [ngClass]="buttonCount==1 ? 'fab fab-icon-holder' : 'fab-icon-holder'">
                                                <i [ngClass]="buttonCount==0 ? 'fas fa-plus' : 'fas fa-times'"></i>
                                            </div>
                                            <ul class="fab-options">
                                                <li *ngIf="selectedRow>0">
                                                    <span class="fab-lable">Delete Row</span>
                                                    <div (click)="deleteRow()" class="fab-icon-holder">
                                                        <i class="fa fa-trash"></i>
                                                    </div>
                                                </li>
                                                <li *ngIf="selectedRow>0">
                                                    <span class="fab-lable">Edit Row</span>
                                                    <div (click)="editRow()" class="fab-icon-holder">
                                                        <i class="fa fa-edit"></i>
                                                    </div>
                                                </li>
                                                <li>
                                                    <span class="fab-lable">Add Row</span>
                                                    <div (click)="addRow()" class="fab-icon-holder">
                                                        <i class="fa fa-plus"></i>
                                                    </div>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
